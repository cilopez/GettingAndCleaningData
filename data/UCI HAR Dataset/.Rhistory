View(data_train)
data <- rbind(data_test,data_train)
View(data)
# Get test set
file_path <- "./test/X_test.txt"
data_test<- read.table(file_path, header = FALSE)
#View(data)
file_path <- "./train/X_train.txt"
data_train<- read.table(file_path, header = FALSE)
View(data_train)
data <- rbind(data_test,data_train)
lapply(data,mean)
lapply(data,sd)
# Step 4, we put labels in headers
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
View(data_head)
data_head[,2]
colnames(data) <- data_head[,2]
data
View(data)
data_head <- gsub(data_head,"()")
?ggsub
?gsub
data_head <- gsub("()",data_head)
data_head<- read.table(file_path, header = FALSE)
data_head <- gsub("()",data_head)
data_head <- gsub("\\()",data_head)
data_head <- gsub("\()",data_head)
data_head <- gsub("\\()","",data_head)
data_head
data_head<- read.table(file_path, header = FALSE)
data_head <- sub("\\()","",data_head)
data_head
colnames(data) <- data_head[,2]
sub("\\()","",data_head)
data_head
colnames(data) <- data_head[,2]
"
data_head<- read.table(file_path, header = FALSE)
sub("\\()","",data_head)
data_head
# Step 4, we put labels in headers
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
sub("\\()","",data_head)
data_head
colnames(data) <- data_head[,2]
gsub("\\()","",data_head)
data_head
asd <- gsub("\\()","",data_head)
asd <- gsub("\\()","",data_head)
asd
asd <- lapply(data_head, gsub,"\\()" ,"")
data_head
# Step 4, we put labels in headers
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
data_head <- lapply(data_head,function(x) gsub(x,"\\()" ,""))
data_head
# Step 4, we put labels in headers
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
data_head <- lapply(data_head[,2],function(x) gsub(x,"\\()",""))
data_head
View(data_head)
# Step 4, we put labels in headers
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
headers <- lapply(data_head[,2],function(x) gsub(x,"\\()",""))
data_head
View(headers)
View(headers)
headers <- lapply(data_head[,2],function(x) gsub(x,"[\\()]",""))
data_head
headers <- lapply(data_head[,2],function(x) gsub(x,"[\\()]",""))
headers
headers <- lapply(data_head[,2],function(x) gsub(x,"\\(",""))
headers
data_head[,2]
dir.create('./data')
gsub("fBodyBodyGyroMag-max()" ,"\\(","")
gsub("fBodyBodyGyroMag-max()" ,"f","")
sub("fBodyBodyGyroMag-max()" ,"f","")
gsub("fBodyBodyGyroMag-max()" ,"Body","")
gsub(,"Body","","fBodyBodyGyroMag-max()" )
gsub("Body","","fBodyBodyGyroMag-max()" )
headers <- lapply(data_head[,2],function(x) gsub("\\()","",x))
headers
headers <- lapply(headers,function(x) gsub("-","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
View(headers)
colnames(data) <- data_head[,2]
data
View(data)
# Step 2, We obtain the mean and std for every measure
dataFiltered <- grep("mean|std", names(data), ignore.case=T)
dataMean <- lapply(dataFiltered,mean)
dataSd <- lapply(dataFiltered,sd)
View(dataMean)
View(dataMean)
# Step 2, We obtain the mean and std for every measure
dataFiltered <- grep("mean|std", names(data), ignore.case=T)
# Step 2, We obtain the mean and std for every measure
grep("mean|std", names(data), ignore.case=T)
View(data)
View(data)
# Step 2, We obtain the mean and std for every measure
data[,grep("mean|std", names(data), ignore.case=T)]
# Step 2, We obtain the mean and std for every measure
dataFiltered <- data[,grep("mean|std", names(data), ignore.case=T)]
dataMean <- lapply(dataFiltered,mean)
dataSd <- lapply(dataFiltered,sd)
View(dataMean)
View(data)
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
data_test <- rbin(x_test,y_test)
data_test <- rbind(x_test,y_test)
data_test <- cbind(x_test,y_test)
#View(data)
file_path <- "./train/X_train.txt"
x_train<- read.table(file_path, header = FALSE)
file_path <- "./train/Y_train.txt"
y_train<- read.table(file_path, header = FALSE)
data_train <- cbind(x_train,y_train)
data <- rbind(data_test,data_train)
View(data)
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
colnames(data) <- data_head[,2]
View(data)
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
colnames(y_test) <- "activity"
data_test <- cbind(x_test,y_test)
View(data_test)
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
colnames(y_test) <- "activity"
data_test <- cbind(x_test,y_test)
#View(data)
file_path <- "./train/X_train.txt"
x_train<- read.table(file_path, header = FALSE)
file_path <- "./train/Y_train.txt"
y_train<- read.table(file_path, header = FALSE)
colnames(y_train) <- "activity"
data_train <- cbind(x_train,y_train)
data <- rbind(data_test,data_train)
# Headers dataframe
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
colnames(data) <- data_head[,2]
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|acitvity", names(data), ignore.case=T)]
# Step 4,
# Tidying the headers
headers <- lapply(data_head[,2],function(x) gsub("\\()","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
colnames(data) <- data_head[,2]
data
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|acitvity", names(data), ignore.case=T)]
# Step 4,
# Tidying the headers
headers <- lapply(data_head[,2],function(x) gsub("\\()","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
colnames(dataFiltered) <- headers
# Step 4,
# Tidying the headers
headers <- lapply(colnames(dataFiltered),function(x) gsub("\\()","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
colnames(dataFiltered) <- headers
dataFiltered
View(dataFiltered)
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity", names(data), ignore.case=T)]
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity", names(data), ignore.case=T)]
View(dataFiltered)
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
colnames(y_test) <- "activity"
data_test <- cbind(x_test,y_test)
# Train
file_path <- "./train/X_train.txt"
x_train<- read.table(file_path, header = FALSE)
file_path <- "./train/Y_train.txt"
y_train<- read.table(file_path, header = FALSE)
colnames(y_train) <- "activity"
data_train <- cbind(x_train,y_train)
data <- rbind(data_test,data_train)
# Headers dataframe
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
colnames(data) <- data_head[,2]
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity", names(data), ignore.case=T)]
# Step 4,
# Tidying the headers
headers <- lapply(colnames(dataFiltered),function(x) gsub("\\()","",x))
dir.create('./data')
unzip("./data.zip", exdir = "./data")
setwd("~/data/UCI HAR Dataset")
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
colnames(y_test) <- "activity"
data_test <- cbind(x_test,y_test)
# Train
file_path <- "./train/X_train.txt"
x_train<- read.table(file_path, header = FALSE)
file_path <- "./train/Y_train.txt"
y_train<- read.table(file_path, header = FALSE)
colnames(y_train) <- "activity"
data_train <- cbind(x_train,y_train)
data <- rbind(data_test,data_train)
# Headers dataframe
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
colnames(data) <- data_head[,2]
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity", names(data), ignore.case=T)]
View(dataFiltered)
colnames(data) <- data_head[,2]
View(data)
data_head <- c(data_head,'activity')
colnames(data) <- data_head[,2]
View(data_head)
data_head[,2] <- c(data_head[,2],'activity')
names <- c(data_head[,2],'activity')
names <- data_head[,2]+'activity'
class(data_head)
names <- append(data_head[,2],'activity')
names <- c(data_head[,2],'activity')
colnames(data) <- data_head[,2]
data_head[,2]
# Headers dataframe
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
data_head[,2]
names <- c(data_head[,2],'activity')
colnames(data) <- names
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity", names(data), ignore.case=T)]
# Step 3, use descriptive names on activity column
file_path <- "./activity_labels.txt"
labels<- read.table(file_path, header = FALSE)
View(labels)
labels[,1]
labels[5,]
labels[5,2]
lapply(dataFiltered,function(x) labels[x,2])
lapply(dataFiltered,function(x) print(x))
lapply(dataFiltered$activity,function(x) labels[x,2])
data$activity <- lapply(dataFiltered$activity,function(x) labels[x,2])
View(data)
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/subject_test.txt"
subject<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
#colnames(y_test) <- "activity"
data_test <- cbind(x_test.subject,y_test)
#colnames(y_test) <- "activity"
data_test <- cbind(x_test,subject,y_test)
View(data_test)
# Train
file_path <- "./train/X_train.txt"
x_train<- read.table(file_path, header = FALSE)
file_path <- "./train/subject_train.txt"
subject<- read.table(file_path, header = FALSE)
file_path <- "./train/Y_train.txt"
y_train<- read.table(file_path, header = FALSE)
#colnames(y_train) <- "activity"
data_train <- cbind(x_train,y_train)
data <- rbind(data_test,subject,data_train)
# Headers dataframe
file_path <- "./features.txt"
data <- rbind(data_test,data_train)
#colnames(y_train) <- "activity"
data_train <- cbind(x_train,subject,y_train)
data <- rbind(data_test,data_train)
# Headers dataframe
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
names <- c(data_head[,2],"subject",'activity')
colnames(data) <- names
View(data)
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity", names(data), ignore.case=T)]
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity|subject", names(data), ignore.case=T)]
# Step 3, use descriptive names on activity column
file_path <- "./activity_labels.txt"
labels<- read.table(file_path, header = FALSE)
data$activity <- lapply(dataFiltered$activity,function(x) labels[x,2])
dataFiltered$activity <- lapply(dataFiltered$activity,function(x) labels[x,2])
View(dataFiltered)
# Step 4,
# Tidying the headers
headers <- lapply(colnames(dataFiltered),function(x) gsub("\\()","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
colnames(dataFiltered) <- headers
view(dataFiltered)
# Step 5
dfTidy <- group_by(dataFiltered, subject,activity)
View(dfTidy)
View(dfTidy)
dfTidy %>% summarise_all(mean)
View(dfTidy)
# Step 5
dfTidy <- aggregate(dataFiltered, by=('activity','subject'), mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=('activity','subject'), mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=c('activity','subject'), mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=['activity','subject'], mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list('activity','subject'), mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=subject, mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=dataFiltered$subject, mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$subject), mean)
View(headers)
View(dfTidy)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list(Subject = dataFiltered$subject), mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list(Subject = dataFiltered$subject, Activity=dataFiltered$activity), mean)
View(dfTidy)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list(Subject = dataFiltered$subject, Activities=dataFiltered$activity), mean)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list(subject,activity), mean,na.rm=TRUE)
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/subject_test.txt"
subject<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
#colnames(y_test) <- "activity"
data_test <- cbind(x_test,subject,y_test)
# Train
file_path <- "./train/X_train.txt"
x_train<- read.table(file_path, header = FALSE)
file_path <- "./train/subject_train.txt"
subject<- read.table(file_path, header = FALSE)
file_path <- "./train/Y_train.txt"
y_train<- read.table(file_path, header = FALSE)
#colnames(y_train) <- "activity"
data_train <- cbind(x_train,subject,y_train)
data <- rbind(data_test,data_train)
# Headers dataframe
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
names <- c(data_head[,2],"subject",'activity')
colnames(data) <- names
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity|subject", names(data), ignore.case=T)]
# Step 3, use descriptive names on activity column
file_path <- "./activity_labels.txt"
labels<- read.table(file_path, header = FALSE)
dataFiltered$activity <- lapply(dataFiltered$activity,function(x) labels[x,2])
# Step 4,
# Tidying the headers
headers <- lapply(colnames(dataFiltered),function(x) gsub("\\()","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
colnames(dataFiltered) <- headers
view(dataFiltered)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list(subject,activity), mean,na.rm=TRUE)
# Step 5
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$subject,dataFiltered$activity), mean,na.rm=TRUE)
View(dataFiltered)
View(dfTidy)
View(dataFiltered)
colnames(dataFiltered)
# Step 5
dataFiltered$activity
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$subject,dataFiltered$activity), mean,na.rm=TRUE)
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$subject,dataFiltered$activity), FUN=mean,na.rm=TRUE)
dfTidy <- aggregate(dataFiltered, by=list(subject,activity), FUN=mean,na.rm=TRUE)
dfTidy <- aggregate(dataFiltered, by=list(subject), FUN=mean,na.rm=TRUE)
headers
# Step 5
dataFiltered$activity
?attach
attach(dataFiltered)
dfTidy <- aggregate(dataFiltered, by=list(subject), FUN=mean,na.rm=TRUE)
detach(dataFiltered)
colnames(dataFiltered)
dfTidy <- aggregate(dataFiltered, by=list(Subject = subject), FUN=mean)
detach(dataFiltered)
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$subject), FUN=mean)
detach(dataFiltered)
dfTidy
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$activity), FUN=mean)
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$activity), FUN=mean)
table(as.character(sapply(dataFiltered$activity, class)))
# Step 5
dataFiltered$activity <- as.factor(dataFiltered$activity)
dataFiltered$activity <- lapply(dataFiltered$activity,function(x) as.factor(labels[x,2]))
View(dataFiltered)
# Step 5
table(as.character(sapply(dataFiltered$activity, class)))
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$activity), FUN=mean)
# Step 1, We merge train and test set on one dataframe
file_path <- "./test/X_test.txt"
x_test<- read.table(file_path, header = FALSE)
file_path <- "./test/subject_test.txt"
subject<- read.table(file_path, header = FALSE)
file_path <- "./test/Y_test.txt"
y_test<- read.table(file_path, header = FALSE)
#colnames(y_test) <- "activity"
data_test <- cbind(x_test,subject,y_test)
# Train
file_path <- "./train/X_train.txt"
x_train<- read.table(file_path, header = FALSE)
file_path <- "./train/subject_train.txt"
subject<- read.table(file_path, header = FALSE)
file_path <- "./train/Y_train.txt"
y_train<- read.table(file_path, header = FALSE)
#colnames(y_train) <- "activity"
data_train <- cbind(x_train,subject,y_train)
data <- rbind(data_test,data_train)
# Headers dataframe
file_path <- "./features.txt"
data_head<- read.table(file_path, header = FALSE)
names <- c(data_head[,2],"subject",'activity')
colnames(data) <- names
# Step 2, We obtain the mean and std for every measure with mean or std in his name
dataFiltered <- data[,grep("mean|std|activity|subject", names(data), ignore.case=T)]
# Step 3, use descriptive names on activity column
file_path <- "./activity_labels.txt"
labels<- read.table(file_path, header = FALSE)
dataFiltered$activity_name <- lapply(dataFiltered$activity,function(x) as.factor(labels[x,2]))
# Step 4,
# Tidying the headers
headers <- lapply(colnames(dataFiltered),function(x) gsub("\\()","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
headers
colnames(dataFiltered) <- headers
# Step 5
table(as.character(sapply(dataFiltered$activity, class)))
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$activity), FUN=mean)
View(dataFiltered)
dataFiltered$activity_name <- lapply(dataFiltered$activity,function(x) labels[x,2])
# Step 4,
# Tidying the headers
headers <- lapply(colnames(dataFiltered),function(x) gsub("\\()","",x))
headers <- lapply(headers,function(x) gsub("-","",x))
headers
colnames(dataFiltered) <- headers
# Step 5
table(as.character(sapply(dataFiltered$activity, class)))
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$activity), FUN=mean)
colnames(dataFiltered)
View(dataFiltered)
# Step 5
table(as.character(sapply(dataFiltered$activity, class)))
dfTidy <- aggregate(dataFiltered, by=list(dataFiltered$activity), FUN=mean)
dfTidy <- aggregate(dataFiltered[1:88], by=list(dataFiltered$activity), FUN=mean)
# Step 5
dataFiltered[,[1:88]]
# Step 5
dataFiltered[[1:88]]
# Step 5
dataFiltered[1:88,]
# Step 5
dataFiltered[,1:88]
dfTidy <- aggregate(dataFiltered[,1:88], by=list(dataFiltered$activity), FUN=mean)
View(dfTidy)
# Step 5
dfTidy <- aggregate(dataFiltered[,1:88], by=list(dataFiltered$activity,dataFiltered$subject), FUN=mean)
View(dfTidy)
# Step 5
dfGrouped <- aggregate(dataFiltered[,1:88], by=list(Activities =dataFiltered$activity,Subjects = dataFiltered$subject), FUN=mean)
dfTidy    <- dfTidy[,1:88]
view(dfTidy)
colnames(dfTidy$Group.1) <- "Activity"
colnames(dfTidy)[colnames(df) == 'Group.1'] <- "Activity"
colnames(dfTidy)[colnames(df) == 'Group.2'] <- "Subject"
view(dfTidy)
view(dfTidy)
colnames(dfTidy)[colnames(dfTidy) == 'Group.1'] <- "Activity"
colnames(dfTidy)[colnames(dfTidy) == 'Group.2'] <- "Subject"
view(dfTidy)
dfTidy$Activity <- lapply(dfTidy$Activity,function(x) labels[x,2])
view(dfTidy)
